var url_developer="";$(".sidebar ul.nav li.current").parents("ul.children").addClass("active in"),$("#nav-profile a").click(function(e){e.preventDefault(),$(this).tab("show")}),$.porcentaje=function(total,number){return a=parseInt(100*number),a=parseInt(a/total),a.toFixed(1)},$.progressbar=function(a){var b=0,c="";return a>0&&100>a?c='<div class="progress"><div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="'+a+'" aria-valuemin="0" aria-valuemax="100" style="width: '+a+'%;">'+a+"%</div></div>":(b=-1.5*a,c='<div class="progress"><div class="progress-bar progress-bar-danger progress-bar-striped active" role="progressbar" aria-valuenow="'+b+'" aria-valuemin="0" aria-valuemax="100" style="width: '+b+'%;">'+a+"%</div></div>"),c},$.fn.centerToWindow=function(){var obj=$(this),obj_width=$(this).outerWidth(!0),obj_height=$(this).outerHeight(!0),window_width=window.innerWidth?window.innerWidth:$(window).width(),window_height=window.innerHeight?window.innerHeight:$(window).height();obj.css({position:"fixed",top:window_height/2-obj_height/2+"px",left:window_width/2-obj_width/2+"px",padding:"800px","z-index":99999999999999,"background-color":"rgba(0,0,0,0.5)"})},$.convNumberToMonth=function(n){var months={1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"};return months[n]},$.convMonthToNumber=function(m){m=m.toLowerCase();var numbers={enero:1,febrero:2,marzo:3,abril:4,mayo:5,junio:6,julio:7,agosto:8,septiembre:9,octubre:10,noviembre:11,diciembre:12};return numbers[m]},$.canvas_show=function(cl){cl.setColor("#ffffff"),cl.setShape("spiral"),cl.setDiameter(60),cl.setDensity(50),cl.setRange(1),cl.setSpeed(1),cl.setFPS(60),cl.show()},function(){function a(a){this._value=a}function b(a,b,c,d){var e,f,g=Math.pow(10,b);return f=(c(a*g)/g).toFixed(b),d&&(e=new RegExp("0{1,"+d+"}$"),f=f.replace(e,"")),f}function c(a,b,c){var d;return d=b.indexOf("$")>-1?e(a,b,c):b.indexOf("%")>-1?f(a,b,c):b.indexOf(":")>-1?g(a,b):i(a._value,b,c)}function d(a,b){var c,d,e,f,g,i=b,j=["KB","MB","GB","TB","PB","EB","ZB","YB"],k=!1;if(b.indexOf(":")>-1)a._value=h(b);else if(b===q)a._value=0;else{for("."!==o[p].delimiters.decimal&&(b=b.replace(/\./g,"").replace(o[p].delimiters.decimal,".")),c=new RegExp("[^a-zA-Z]"+o[p].abbreviations.thousand+"(?:\\)|(\\"+o[p].currency.symbol+")?(?:\\))?)?$"),d=new RegExp("[^a-zA-Z]"+o[p].abbreviations.million+"(?:\\)|(\\"+o[p].currency.symbol+")?(?:\\))?)?$"),e=new RegExp("[^a-zA-Z]"+o[p].abbreviations.billion+"(?:\\)|(\\"+o[p].currency.symbol+")?(?:\\))?)?$"),f=new RegExp("[^a-zA-Z]"+o[p].abbreviations.trillion+"(?:\\)|(\\"+o[p].currency.symbol+")?(?:\\))?)?$"),g=0;g<=j.length&&!(k=b.indexOf(j[g])>-1?Math.pow(1024,g+1):!1);g++);a._value=(k?k:1)*(i.match(c)?Math.pow(10,3):1)*(i.match(d)?Math.pow(10,6):1)*(i.match(e)?Math.pow(10,9):1)*(i.match(f)?Math.pow(10,12):1)*(b.indexOf("%")>-1?.01:1)*((b.split("-").length+Math.min(b.split("(").length-1,b.split(")").length-1))%2?1:-1)*Number(b.replace(/[^0-9\.]+/g,"")),a._value=k?Math.ceil(a._value):a._value}return a._value}function e(a,b,c){var d,e,f=b.indexOf("$"),g=b.indexOf("("),h=b.indexOf("-"),j="";return b.indexOf(" $")>-1?(j=" ",b=b.replace(" $","")):b.indexOf("$ ")>-1?(j=" ",b=b.replace("$ ","")):b=b.replace("$",""),e=i(a._value,b,c),1>=f?e.indexOf("(")>-1||e.indexOf("-")>-1?(e=e.split(""),d=1,(g>f||h>f)&&(d=0),e.splice(d,0,o[p].currency.symbol+j),e=e.join("")):e=o[p].currency.symbol+j+e:e.indexOf(")")>-1?(e=e.split(""),e.splice(-1,0,j+o[p].currency.symbol),e=e.join("")):e=e+j+o[p].currency.symbol,e}function f(a,b,c){var d,e="",f=100*a._value;return b.indexOf(" %")>-1?(e=" ",b=b.replace(" %","")):b=b.replace("%",""),d=i(f,b,c),d.indexOf(")")>-1?(d=d.split(""),d.splice(-1,0,e+"%"),d=d.join("")):d=d+e+"%",d}function g(a){var b=Math.floor(a._value/60/60),c=Math.floor((a._value-60*b*60)/60),d=Math.round(a._value-60*b*60-60*c);return b+":"+(10>c?"0"+c:c)+":"+(10>d?"0"+d:d)}function h(a){var b=a.split(":"),c=0;return 3===b.length?(c+=60*Number(b[0])*60,c+=60*Number(b[1]),c+=Number(b[2])):2===b.length&&(c+=60*Number(b[0]),c+=Number(b[1])),Number(c)}function i(a,c,d){var e,f,g,h,i,j,k=!1,l=!1,m=!1,n="",r=!1,s=!1,t=!1,u=!1,v=!1,w="",x="",y=Math.abs(a),z=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],A="",B=!1;if(0===a&&null!==q)return q;if(c.indexOf("(")>-1?(k=!0,c=c.slice(1,-1)):c.indexOf("+")>-1&&(l=!0,c=c.replace(/\+/g,"")),c.indexOf("a")>-1&&(r=c.indexOf("aK")>=0,s=c.indexOf("aM")>=0,t=c.indexOf("aB")>=0,u=c.indexOf("aT")>=0,v=r||s||t||u,c.indexOf(" a")>-1?(n=" ",c=c.replace(" a","")):c=c.replace("a",""),y>=Math.pow(10,12)&&!v||u?(n+=o[p].abbreviations.trillion,a/=Math.pow(10,12)):y<Math.pow(10,12)&&y>=Math.pow(10,9)&&!v||t?(n+=o[p].abbreviations.billion,a/=Math.pow(10,9)):y<Math.pow(10,9)&&y>=Math.pow(10,6)&&!v||s?(n+=o[p].abbreviations.million,a/=Math.pow(10,6)):(y<Math.pow(10,6)&&y>=Math.pow(10,3)&&!v||r)&&(n+=o[p].abbreviations.thousand,a/=Math.pow(10,3))),c.indexOf("b")>-1)for(c.indexOf(" b")>-1?(w=" ",c=c.replace(" b","")):c=c.replace("b",""),g=0;g<=z.length;g++)if(e=Math.pow(1024,g),f=Math.pow(1024,g+1),a>=e&&f>a){w+=z[g],e>0&&(a/=e);break}return c.indexOf("o")>-1&&(c.indexOf(" o")>-1?(x=" ",c=c.replace(" o","")):c=c.replace("o",""),x+=o[p].ordinal(a)),c.indexOf("[.]")>-1&&(m=!0,c=c.replace("[.]",".")),h=a.toString().split(".")[0],i=c.split(".")[1],j=c.indexOf(","),i?(i.indexOf("[")>-1?(i=i.replace("]",""),i=i.split("["),A=b(a,i[0].length+i[1].length,d,i[1].length)):A=b(a,i.length,d),h=A.split(".")[0],A=A.split(".")[1].length?o[p].delimiters.decimal+A.split(".")[1]:"",m&&0===Number(A.slice(1))&&(A="")):h=b(a,null,d),h.indexOf("-")>-1&&(h=h.slice(1),B=!0),j>-1&&(h=h.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o[p].delimiters.thousands)),0===c.indexOf(".")&&(h=""),(k&&B?"(":"")+(!k&&B?"-":"")+(!B&&l?"+":"")+h+A+(x?x:"")+(n?n:"")+(w?w:"")+(k&&B?")":"")}function j(a,b){o[a]=b}function k(a){var b=a.toString().split(".");return b.length<2?1:Math.pow(10,b[1].length)}function l(){var a=Array.prototype.slice.call(arguments);return a.reduce(function(a,b){var c=k(a),d=k(b);return c>d?c:d},-1/0)}var m,n="1.5.3",o={},p="en",q=null,r="0,0",s="undefined"!=typeof module&&module.exports;m=function(b){return m.isNumeral(b)?b=b.value():0===b||"undefined"==typeof b?b=0:Number(b)||(b=m.fn.unformat(b)),new a(Number(b))},m.version=n,m.isNumeral=function(b){return b instanceof a},m.language=function(a,b){if(!a)return p;if(a&&!b){if(!o[a])throw new Error("Unknown language : "+a);p=a}return(b||!o[a])&&j(a,b),m},m.languageData=function(a){if(!a)return o[p];if(!o[a])throw new Error("Unknown language : "+a);return o[a]},m.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),m.zeroFormat=function(a){q="string"==typeof a?a:null},m.defaultFormat=function(a){r="string"==typeof a?a:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var c,d,e=this.length>>>0,f=!1;for(1<arguments.length&&(d=b,f=!0),c=0;e>c;++c)this.hasOwnProperty(c)&&(f?d=a(d,this[c],c,this):(d=this[c],f=!0));if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),m.fn=a.prototype={clone:function(){return m(this)},format:function(a,b){return c(this,a?a:r,void 0!==b?b:Math.round)},unformat:function(a){return"[object Number]"===Object.prototype.toString.call(a)?a:d(this,a?a:r)},value:function(){return this._value},valueOf:function(){return this._value},set:function(a){return this._value=Number(a),this},add:function(a){function b(a,b){return a+c*b}var c=l.call(null,this._value,a);return this._value=[this._value,a].reduce(b,0)/c,this},subtract:function(a){function b(a,b){return a-c*b}var c=l.call(null,this._value,a);return this._value=[a].reduce(b,this._value*c)/c,this},multiply:function(a){function b(a,b){var c=l(a,b);return a*c*b*c/(c*c)}return this._value=[this._value,a].reduce(b,1),this},divide:function(a){function b(a,b){var c=l(a,b);return a*c/(b*c)}return this._value=[this._value,a].reduce(b),this},difference:function(a){return Math.abs(m(this._value).subtract(a).value())}},s&&(module.exports=m),"undefined"==typeof ender&&(this.numeral=m),"function"==typeof define&&define.amd&&define([],function(){return m})}.call(this);var canvas=new CanvasLoader("animation_image");$(window).resize(function(){$(".animation_image").centerToWindow(),"matchMedia"in window?window.matchMedia("print").addListener(function(){chart.validateNow()}):window.onbeforeprint=function(){chart.validateNow()}}),$.loadJSON=function(url){try{var request=$.ajax({url:url_developer+url,type:"POST",async:!1,cache:!1,dataType:"json"});return request.done(function(){}),request.fail(function(){console.log("Error:\n"+JSON.stringify(jqXHR)+"\n"+textStatus+": "+errorThrown+"\n")}),request.always(function(){}),request.error(function(jqXHR,exception){console.log(0===jqXHR.status?"Not connect.n Verify Network.":404==jqXHR.status?"Requested page not found. [404]":500==jqXHR.status?"Internal Server Error [500].":"parsererror"===exception?"Requested JSON parse failed.":"timeout"===exception?"Time out error.":"abort"===exception?"Ajax request aborted.":"Uncaught Error.n"+jqXHR.responseText),$(".animation_image").hide()}),request.responseJSON}catch(err){console.log("Error:\n"+err),$(".animation_image").hide()}},$.loadChart=function(div,url,type,date){$.canvas_show(canvas),$(".animation_image").centerToWindow(),$(".animation_image").show();var div="undefined"!=typeof div?div:"chartdiv",date="undefined"!=typeof date&&0!=date.length?"/"+date:"",type="undefined"!=typeof type&&0!=type.length?type:"column",url="undefined"!=typeof url?url+date:"",json=$.loadJSON(url);json="undefined"!=typeof json||0!=json.length?json:"NULL";try{if(json.length<1||"NULL"==json)return $("#error").show(),$("#"+div).hide(),!1;switch($("#error").hide(),$("#"+div).show(),type){case"broken":$.broken(div,json);break;case"column":$.column(div,json);break;case"comparative":$.comparative(div,json);break;case"donut":$.donut(div,json);break;case"evolution":$.evolution(div,json);break;case"line":$.line(div,json);break;case"pie":$.pie(div,json);break;case"smoothline":$.smoothline(div,json);break;case"stackbar":$.stackbar(div,json);break;case"historicoCategoria":$.historicoCategoria(div,json);break;case"telefonosPorProducto":$.telefonosPorProducto(div,json);break;case"grafHistoricoMes":$.historicoMes(div,json)}$(".animation_image").hide()}catch(err){console.log("Error:\n"+err),$(".animation_image").hide()}};var chart;$.column=function(div,json){chart=new AmCharts.AmSerialChart;var chartScrollbar=new AmCharts.ChartScrollbar;chart.addChartScrollbar(chartScrollbar),chart.dataProvider=json.data,chart.graphs=json.graphs,chart.gridAboveGraphs=!0,chart.pathToImages="http://www.amcharts.com/lib/3/images/",chart.categoryField="fecha",chart.language="es",chart.numberFormatter=$.formatNumber(),chart.dataDateFormat="YYYY-MM-DD HH:NN",$.animation(chart,!1),$.margin(chart),$.categoryAxis(chart);var valueAxis=new AmCharts.ValueAxis;valueAxis.dashLength=1,valueAxis.axisColor="#DADADA",valueAxis.axisAlpha=1,valueAxis.unit="$",valueAxis.unitPosition="left",chart.addValueAxis(valueAxis),$.legend(chart),chart.exportConfig=$.export(),chart.write(div)},$.historicoMes=function(div,json){chart=new AmCharts.AmSerialChart;var chartScrollbar=new AmCharts.ChartScrollbar;chart.addChartScrollbar(chartScrollbar),chart.dataProvider=json.data,chart.graphs=json.graphs,chart.gridAboveGraphs=!0,chart.pathToImages="http://www.amcharts.com/lib/3/images/",chart.categoryField="fecha",chart.language="es",chart.numberFormatter=$.formatNumber(),chart.dataDateFormat="YYYY-MM-DD HH:NN",$.animation(chart,!1),$.margin(chart),$.categoryAxis(chart);var valueAxis=new AmCharts.ValueAxis;valueAxis.dashLength=1,valueAxis.axisColor="#DADADA",valueAxis.axisAlpha=1,valueAxis.unit="$",valueAxis.unitPosition="left",chart.addValueAxis(valueAxis),$.legend(chart),chart.exportConfig=$.export(),chart.write(div)},$.historicoCategoria=function(div,json){chart=new AmCharts.AmPieChart,chart.dataProvider=json.data,chart.titleField="nombre",chart.valueField="cantidad",chart.outlineColor="#FFFFFF",chart.outlineAlpha=.8,chart.outlineThickness=2,chart.labelText="[[nombre]]",chart.balloonTex="[[title]]<br><span style='font-size:11px'><b>[[value]]</b> ([[percents]]%)</span>",chart.pathToImages="http://www.amcharts.com/lib/3/images/",chart.categoryField="nombre",chart.radius="35%",chart.language="es",chart.numberFormatter=$.formatNumber(),chart.dataDateFormat="YYYY-MM-DD HH:NN",$.animation(chart,!1),$.legend(chart),chart.exportConfig=$.export(),chart.write(div)},$.stackbar=function(div,json){chart=new AmCharts.AmSerialChart,chart.dataProvider=json.data,chart.graphs=json.graphs,chart.gridAboveGraphs=!0,chart.pathToImages="http://www.amcharts.com/lib/3/images/",chart.categoryField="fecha",chart.language="es",chart.numberFormatter=$.formatNumber(),chart.dataDateFormat="YYYY-MM-DD HH:NN",$.animation(chart,!1),$.margin(chart),$.categoryAxis(chart);var valueAxis=new AmCharts.ValueAxis;valueAxis.dashLength=1,valueAxis.axisColor="#DADADA",valueAxis.axisAlpha=1,valueAxis.unit="$",valueAxis.unitPosition="left",valueAxis.stackType="regular",chart.addValueAxis(valueAxis),$.legend(chart),chart.exportConfig=$.export(),chart.write(div)},$.donut=function(div,json){chart=new AmCharts.AmPieChart,chart.dataProvider=json.data,chart.titleField="mes",chart.valueField="monto",chart.outlineColor="#FFFFFF",chart.outlineAlpha=.8,chart.outlineThickness=2,chart.labelText="[[numero]]",chart.balloonTex="[[title]]<br><span style='font-size:11px'><b>[[value]]</b> ([[percents]]%)</span>",chart.pathToImages="http://www.amcharts.com/lib/3/images/",chart.categoryField="fecha",chart.language="es",chart.numberFormatter=$.formatNumber(),chart.labelRadius=5,chart.radius="35%",chart.innerRadius="60%",chart.dataDateFormat="YYYY-MM-DD HH:NN",$.animation(chart,!1),$.legend(chart),chart.exportConfig=$.export(),chart.write(div)},$.comparative=function(div,json){chart=new AmCharts.AmSerialChart,chart.dataProvider=json.data,chart.pathToImages="http://www.amcharts.com/lib/3/images/",chart.categoryField="date",chart.language="es",chart.numberFormatter=$.formatNumber(),chart.dataDateFormat="YYYY-MM-DD HH:NN",$.categoryAxis(chart,!1);var valueAxis=new AmCharts.ValueAxis;valueAxis.dashLength=1,valueAxis.axisColor="#DADADA",valueAxis.axisAlpha=1,valueAxis.unit="$",valueAxis.unitPosition="left",chart.addValueAxis(valueAxis),$.animation(chart,!1),$.legend(chart);var graph=new AmCharts.AmGraph;graph.title=json.years[0],graph.balloonText="<strong>[[date]] - [[year1]]</strong> <br>Monto: $[[value]]",graph.type="line",graph.valueField="val1",graph.lineColor="#60c6cf",graph.lineThickness=3,graph.bullet="round",graph.bulletColor="#60c6cf",graph.bulletBorderColor="#ffffff",graph.bulletBorderAlpha=1,graph.bulletBorderThickness=3,graph.bulletSize=15,chart.addGraph(graph);var graph1=new AmCharts.AmGraph;graph1.title=json.years[1],graph1.balloonText="<strong>[[date]] - [[year2]]</strong> <br>Monto: $[[value]]",graph1.type="line",graph1.valueField="val2",graph1.lineColor="#f35958",graph1.lineThickness=3,graph1.bullet="round",graph1.bulletColor="#f35958",graph1.bulletBorderColor="#ffffff",graph1.bulletBorderAlpha=1,graph1.bulletBorderThickness=3,graph1.bulletSize=12,chart.addGraph(graph1);var graph2=new AmCharts.AmGraph;graph2.title=json.years[2],graph2.balloonText="<strong>[[date]] - [[year3]]</strong> <br>Monto: $[[value]]",graph2.type="line",graph2.valueField="val3",graph2.lineThickness=3,graph2.bullet="round",graph2.bulletBorderColor="#ffffff",graph2.bulletBorderAlpha=1,graph2.bulletBorderThickness=3,graph2.bulletSize=12,chart.addGraph(graph2),chart.exportConfig=$.export();var chartCursor=new AmCharts.ChartCursor;chart.addChartCursor(chartCursor),chart.write(div),$.generateTable(json)},$.evolution=function(div,json){chart=new AmCharts.AmSerialChart,chart.dataProvider=json.data,chart.pathToImages="http://www.amcharts.com/lib/3/images/",chart.categoryField="fecha",chart.language="es",chart.numberFormatter=$.formatNumber(),chart.dataDateFormat="YYYY-MM-DD HH:NN",$.categoryAxis(chart);var valueAxis=new AmCharts.ValueAxis;valueAxis.dashLength=1,valueAxis.axisColor="#DADADA",valueAxis.axisAlpha=1,valueAxis.unit="$",valueAxis.unitPosition="left",chart.addValueAxis(valueAxis),$.animation(chart,!1),$.legend(chart);var graph=new AmCharts.AmGraph;graph.title="",graph.balloonText="[[category]]<br><b><span style='font-size:14px;'>$ [[value]]</span></b>",graph.type="line",graph.valueField="value",graph.lineColor="#60c6cf",graph.lineThickness=3,graph.bullet="round",graph.bulletColor="#60c6cf",graph.bulletBorderColor="#ffffff",graph.bulletBorderAlpha=1,graph.bulletBorderThickness=3,graph.bulletSize=12,chart.addGraph(graph),chart.exportConfig=$.export();var chartCursor=new AmCharts.ChartCursor;categoryBalloonDateFormat="MMM, YYYY ",chart.addChartCursor(chartCursor),chart.write(div)},$.pie=function(div,json){chart=new AmCharts.AmPieChart,chart.dataProvider=json.data,chart.titleField="mes",chart.valueField="monto",chart.outlineColor="#FFFFFF",chart.outlineAlpha=.8,chart.outlineThickness=2,chart.labelText="[[numero]]",chart.balloonTex="[[title]]<br><span style='font-size:11px'><b>[[value]]</b> ([[percents]]%)</span>",chart.pathToImages="http://www.amcharts.com/lib/3/images/",chart.categoryField="fecha",chart.language="es",chart.numberFormatter=$.formatNumber(),chart.dataDateFormat="YYYY-MM-DD HH:NN",$.animation(chart,!1),$.legend(chart),chart.exportConfig=$.export(),chart.write(div)},$.telefonosPorProducto=function(div,json){chart=new AmCharts.AmPieChart,chart.dataProvider=json.data,chart.titleField="numero",chart.valueField="monto",chart.outlineColor="#FFFFFF",chart.outlineAlpha=.8,chart.outlineThickness=2,chart.labelText="[[numero]]",chart.balloonTex="[[title]]<br><span style='font-size:11px'><b>[[value]]</b> ([[percents]]%)</span>",chart.pathToImages="http://www.amcharts.com/lib/3/images/",chart.categoryField="numero",chart.radius="35%",chart.language="es",chart.numberFormatter=$.formatNumber(),chart.dataDateFormat="YYYY-MM-DD HH:NN",$.animation(chart,!1),$.legend(chart),chart.exportConfig=$.export(),chart.write(div)},$.broken=function(div,json){var selected,number,types=json.data;chart=new AmCharts.AmPieChart,chart.dataProvider=$.generateChartData(types,selected),chart.titleField="type",chart.valueField="percent",chart.outlineColor="#FFFFFF",chart.outlineAlpha=.8,chart.outlineThickness=.5,chart.colorField="color",chart.pulledField="pulled",chart.balloonText="<b>$[[percent]] ([[percents]]%)</b>",chart.labelText="[[type]]",chart.radius="35%",chart.depth3D=0,chart.groupedPulled=!0,chart.dataDateFormat="YYYY-MM-DD HH:NN",$.animation(chart,!1),chart.exportConfig=$.export(),$.legend(chart,"legenddiv","Producto: [[title]]"),chart.addListener("clickSlice",function(event){$("#lista").parent().find("h4").empty(),void 0!=event.dataItem.dataContext.id?(number=event.dataItem.dataContext.type,selected=event.dataItem.dataContext.id):(number="",selected=void 0,$("#legenddiv").show()),chart.dataProvider=$.generateChartData(types,selected,number),chart.validateData()}),chart.write(div)},$.generateChartData=function(types,selected,number){$("#lista").hide(),$("#lista tbody").empty(),$("#lista tfoot").empty();for(var chartData=[],total=0,porcent=0,i=0;i<types.length;i++)if(types[i].subs.length>0&&i==selected){$("#legenddiv").hide(),$("#lista").show();for(var x=0;x<types[i].subs.length;x++)chartData.push({type:types[i].subs[x].type,percent:types[i].subs[x].percent,pulled:!0}),total+=parseInt(types[i].subs[x].percent);for(var x=0;x<types[i].subs.length;x++)porcent=$.porcentaje(total,types[i].subs[x].percent,1,",","."),$("#lista tbody").append(types[i].subs[x].percent<0?'<tr class="danger"><td class="col-md-5">'+types[i].subs[x].type+'</td><td class="col-md-4">'+$.progressbar(porcent)+'</td><td class="col-md-2 text-right">- $'+-1*types[i].subs[x].percent+"</td></tr>":'<tr><td class="col-md-5">'+types[i].subs[x].type+'</td><td class="col-md-4">'+$.progressbar(porcent)+'</td><td class="col-md-2 text-right">$'+types[i].subs[x].percent+"</td></tr>");$("#lista").parent().prepend("<h4><strong>Detalle N° "+number+"</strong></h4>"),$("#lista").append('<tfoot><tr class="info" style="font-weight: bold;"><td class="col-md-5">TOTAL</td><td class="col-md-4"></td><td class="col-md-2 text-right">$'+total+"</td></tr></tfoot>")}else chartData.push({type:types[i].type,percent:types[i].percent,id:i});return chartData},$.animation=function(chart,bool){bool?(chart.sequencedAnimation=!0,chart.startDuration=5,chart.startAlpha=10):(chart.sequencedAnimation=!1,chart.startDuration=0,chart.startAlpha=0)},$.export=function(){},$(".buttonExport").click(function(){var exp=new AmCharts.AmExport(chart),output="pdf",id=this.id;switch(id){case"btnPDF":output="pdf";break;case"btnJPG":output="jpg";break;case"btnPNG":output="png"}exp.init(),exp.output({format:output,output:"save"})}),$.legend=function(chart,legenddiv,text){legenddiv="undefined"!=typeof legenddiv&&0!=legenddiv.length?legenddiv:!1,text="undefined"!=typeof text&&0!=text.length?text:!1;var legend=new AmCharts.AmLegend;legend.align="center",legend.markerType="circle",legend.valueText="",legend.useGraphSettings=!1,legend.labelText=text?text:"[[title]]",legenddiv?chart.addLegend(legend,legenddiv):chart.addLegend(legend)},$.margin=function(chart){chart.autoMargins=!1,chart.marginRight=10,chart.marginLeft=80,chart.marginBottom=20,chart.marginTop=20},$.formatNumber=function(){var formatNumber={decimalSeparator:",",thousandsSeparator:".",precision:-1};return formatNumber},$.categoryAxis=function(chart,parse){parse="undefined"!=typeof parse&&0!=parse.length?parse:!0;var categoryAxis=chart.categoryAxis;categoryAxis.inside=!1,categoryAxis.axisAlpha=0,categoryAxis.gridAlpha=0,categoryAxis.tickLength=0,categoryAxis.minPeriod="MM",categoryAxis.equalSpacing=!0,categoryAxis.boldPeriodBeginning=!0,parse&&(categoryAxis.parseDates=!0,categoryAxis.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM YYYY"},{period:"YYYY",format:"MMM YYYY"}])},$.generateTable=function(json){$(".animation_image").show();var date;numeral.defaultFormat("$0,0");var variation,resta,val2=numeral(),val3=numeral();$.each(json.data,function(key,value){date=value["date-full"],val2=val2.set("undefined"!=typeof value.val2&&0!=value.val2.length?value.val2:0),val3=val3.set("undefined"!=typeof value.val3&&0!=value.val3.length?value.val3:0),0!=val2.value()&&0!=val3.value()?(resta=parseInt(val3.value()-val2.value()),0>resta&&(resta=parseInt(-1*resta)),variation=Math.ceil(100*resta/val2.value())):variation=100,$("#statics tbody").append(val2.value()>val3.value()?"<tr><td>"+date+"</td><td>"+val2.format()+"</td><td>"+val3.format()+'</td><td><i class="fa fa-arrow-down fa-fw arrow-down"></i> '+variation+"%</td></tr>":"<tr><td>"+date+"</td><td>"+val2.format()+"</td><td>"+val3.format()+'</td><td><i class="fa fa-arrow-up fa-fw arrow-up"></i> '+variation+"%</td></tr>")})};