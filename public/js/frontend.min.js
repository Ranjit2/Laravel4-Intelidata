$(document).ready(function(){$.loadChart("chartdiv8","/getBreakChart/"+id,"","","POST")}),AmCharts.loadJSON=function(url,method){try{return JSON.parse($.ajax({type:method,url:url,async:!1,cache:!1,dataType:"json"}).responseText)}catch(err){console.log(err)}},$.loadChart=function(div,url,type,mes,method){var div="undefined"!=typeof div?div:"#chartdiv",type="undefined"!=typeof type&&0!=type.length?"/"+type:"",mes="undefined"!=typeof mes&&0!=mes.length?"/"+mes:"",method="undefined"!=typeof method?method:"POST",url="undefined"!=typeof url?url+type+mes:"";try{var data=AmCharts.loadJSON(url,method);AmCharts.ready(function(){AmCharts.makeChart(div,data)})}catch(err){console.log(err)}},$.graficoBroken=function(){var chart,selected,types=[{type:"84465285",percent:5e4,color:"#ff9e01",subs:[{type:"servicio1",percent:25e3},{type:"servicio2",percent:1e4},{type:"servicio3",percent:15e3},{type:"servicio4",percent:5e3},{type:"servicio5",percent:1e3},{type:"servicio4",percent:2e3},{type:"servicio5",percent:6e3},{type:"servicio4",percent:9e3},{type:"servicio5",percent:5e3}]},{type:"86624454",percent:1e5,color:"#b0de09",subs:[{type:"servicio1",percent:6e4},{type:"servicio2",percent:15e3},{type:"servicio3",percent:25e3}]}];AmCharts.ready(function(){chart=new AmCharts.AmPieChart;var exportConfig={menuTop:"30px",menuBottom:"auto",menuRight:"70px",backgroundColor:"#efefef",menuItems:[{textAlign:"center",icon:"http://www.amcharts.com/lib/3/images/export.png",title:"Bajar",items:[{title:"JPG",format:"jpg"},{title:"PNG",format:"png"},{title:"SVG",format:"svg"},{title:"PDF",format:"pdf"}]}]};chart.dataProvider=$.generateChartData(types,selected),chart.titleField="type",chart.valueField="percent",chart.outlineColor="#FFFFFF",chart.outlineAlpha=.8,chart.outlineThickness=2,chart.colorField="color",chart.pulledField="pulled",chart.balloonText="<b>$[[percent]] ([[percents]]%)</b>",chart.labelText="[[type]]",chart.radius="30%",chart.exportConfig=exportConfig,chart.addTitle("ENERO"),chart.addListener("clickSlice",function(event){selected=void 0!=event.dataItem.dataContext.id?event.dataItem.dataContext.id:void 0,chart.dataProvider=$.generateChartData(types,selected),chart.validateData()}),chart.write("chartdiv7")})},$.generateChartData=function(types,selected){for(var chartData=[],i=0;i<types.length;i++)if(i==selected)for(var x=0;x<types[i].subs.length;x++)chartData.push({type:types[i].subs[x].type,percent:types[i].subs[x].percent,color:types[i].color,pulled:!0});else chartData.push({type:types[i].type,percent:types[i].percent,color:types[i].color,id:i});return chartData},$.graficoBroken();